<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
	<link rel="stylesheet" href="css/style.css">
    <title>Receiver</title>
	<script>
	
        window.onload = function(){document.getElementById("lower-third").classList.add("animateOut");}
	
	</script>
	<script>
		var bc = new BroadcastChannel('obs-lowerthird-channel');
		bc.onmessage = function (ev) {
			received_data=ev.data.split("|");
			document.getElementById("name").innerHTML = received_data[0];
			document.getElementById("function").innerHTML = received_data[1];
			logo = received_data[2];
			animation = received_data[3];
			console.log ('Name: ' + received_data[0] + ', Function: ' + received_data[1] + ', logo: ' + received_data[2] + ', Animation: ' + received_data[3]);
		if (animation == 'animateIn') {document.getElementById("lower-third").classList.remove("animateOut");document.getElementById("lower-third").classList.add("animateIn");};
		if (animation == 'animateOut') {document.getElementById("lower-third").classList.remove("animateIn");document.getElementById("lower-third").classList.add("animateOut");};
		if (logo == 'gate') {document.getElementById("gate").classList.remove("hide-tog");document.getElementById("kids").classList.add("hide-tog");};
		if (logo == 'kids') {document.getElementById("kids").classList.remove("hide-tog");document.getElementById("gate").classList.add("hide-tog");};

		}
	</script>
  </head>
  <body class="browser-source lower-thirds">
	<div id="lower-third">
    	<div class="left-block">
				<img id= "gate" src="images/logo.png">
				<img id= "kids" src="images/Kids Slot.png">
			</div>
			<div class="right-block">
				<div id="name"></div>
				<div id="function"></div>
			</div>
		</div>
	</div>
  </body>
</html>